{
	"httpRequest": {
		"method": "POST",
		"path": "/v1/messages",
		"body": {
			"contentType": "application/json",
			"type": "JSON",
			"json": {
				"model": "claude-sonnet-4-5-20250929",
				"temperature": 0,
				"stream": false,
				"max_tokens": 16000,
				"thinking": {
					"type": "disabled"
				},
				"messages": [
					{
						"role": "user",
						"content": "Build an automation that runs every night 8pm. Use the NewsAPI \"/everything\" endpoint to search for AI-related news from the day. Pick the top 5 articles and use OpenAI `gpt-4.1-mini` to summarize each in two sentences. Generate an image using OpenAI based on the top article's summary. Send a structured Telegram message."
					},
					{
						"role": "user",
						"content": "[Internal Context - Use this to craft your response]\n**Discovery:** Found 10 relevant nodes\n\n**Builder:** Perfect! I've successfully built your AI news automation workflow with 12 nodes:\n\n**Workflow Summary:**\n- **Daily 8pm Trigger** → Runs every night at 8pm\n- **Workflow Configuration** → Initial setup node\n- **Fetch AI News from NewsAPI** → Calls NewsAPI /everything endpoint for AI-related news\n- **Limit to Top 5 Articles** → Filters to top 5 articles\n- **Split Articles** → Separates articles for individual processing\n- **Summarize Article** (AI Agent with GPT-4.1-mini) → Generates two-sentence summaries for each article\n- **Combine Summaries** → Aggregates all summaries back together\n- **Prepare Image Prompt** → Extracts top article summary for image generation\n- **Generate Image with DALL-E** → Creates image based on top article\n- **Format Telegram Message** → Structures the final message content\n- **Send Telegram Message** → Delivers the complete notification with summaries and image\n\nThe workflow follows best practices with proper data flow, AI agent configuration with OpenAI Chat Model connection, and structured message formatting for Telegram delivery.\n\n**Configuration:**\n## Configuration Complete\n\nAll nodes have been successfully configured for the daily AI news digest workflow:\n\n**Configured Nodes:**\n1. **Daily 8pm Trigger** - Scheduled to run every day at 8:00 PM\n2. **Workflow Configuration** - Sets up today's date and NewsAPI search parameters for AI-related news\n3. **Fetch AI News from NewsAPI** - HTTP GET request to NewsAPI /everything endpoint with date filters and AI search query\n4. **Limit to Top 5 Articles** - Restricts results to top 5 articles by popularity\n5. **Split Articles** - Splits article array into individual items for processing\n6. **Summarize Article** - AI Agent with system message for professional summarization, processes each article with gpt-4o-mini\n7. **OpenAI GPT-4.1-mini** - Chat model configured with gpt-4o-mini (closest available model to requested gpt-4.1-mini)\n8. **Combine Summaries** - Aggregates all summarized articles back into single item\n9. **Prepare Image Prompt** - Extracts top article summary and creates DALL-E prompt\n10. **Generate Image with DALL-E** - Creates 1024x1024 image based on top article summary\n11. **Format Telegram Message** - Structures message with emoji header and numbered article list\n12. **Send Telegram Message** - Sends photo with caption containing all summaries using Markdown formatting\n\n**Placeholders Requiring User Configuration:**\n- `<__PLACEHOLDER_VALUE__YOUR_NEWSAPI_KEY__>` - NewsAPI API key in HTTP Request node\n- `<__PLACEHOLDER_VALUE__YOUR_TELEGRAM_CHAT_ID__>` - Telegram chat ID in Send Telegram Message node"
					}
				],
				"system": [
					{
						"type": "text",
						"text": "<role>\nYou are a helpful AI assistant for n8n workflow automation.\n\nYou have access to context about what has been built, including:\n- Discovery results (nodes found)\n- Builder output (workflow structure)\n- Configuration summary (setup instructions)\n</role>\n\n<guardrails>\nYour capabilities are focused on workflow building:\n- You work from your existing knowledge of n8n nodes and integrations\n- You help users design and configure workflows based on their requirements\n- You provide guidance on node configuration and workflow structure\n\nIf a user asks you to search for information or look something up online, let them know you can help build workflows based on your existing knowledge of n8n nodes and integrations, though you don't have access to external websites or real-time information.\n</guardrails>\n\n<workflow_completion_responses>\nWhen you receive [Internal Context], synthesize a clean user-facing response:\n1. Summarize what was built in a friendly way\n2. Explain the workflow structure briefly\n3. Include setup instructions if provided\n4. If Data Table setup is required, include the exact steps provided in the context (do NOT say data tables will be created automatically)\n5. Ask if user wants adjustments\n\nIMPORTANT: Never tell the user to activate, publish, or turn on their workflow. Users will activate workflows themselves when ready.\n\nExample response structure:\n\"I've created your [workflow type] workflow! Here's what it does:\n[Brief explanation of the flow]\n\n**Setup Required:**\n[List any configuration steps from the context]\n\n[If data tables are used, include Data Table creation steps with link to Data Tables tab]\n\nLet me know if you'd like to adjust anything.\"\n</workflow_completion_responses>\n\n<conversational_responses>\n- Be friendly and concise\n- Explain n8n capabilities when asked\n- Provide practical examples when helpful\n</conversational_responses>\n\n<response_style>\n- Keep responses focused and not overly long\n- Use markdown formatting for readability\n- Be conversational and helpful\n- Do not use emojis in your response\n</response_style>",
						"cache_control": {
							"type": "ephemeral"
						}
					}
				]
			}
		}
	},
	"httpResponse": {
		"statusCode": 200,
		"reasonPhrase": "OK",
		"headers": {
			"strict-transport-security": ["max-age=31536000; includeSubDomains; preload"],
			"X-Robots-Tag": ["none"],
			"Server": ["cloudflare"],
			"Content-Type": ["application/json"],
			"Content-Security-Policy": ["default-src 'none'; frame-ancestors 'none'"]
		},
		"body": {
			"contentType": "application/json",
			"type": "JSON",
			"json": {
				"model": "claude-sonnet-4-5-20250929",
				"id": "msg_01KYnaPWYt463ku9RPP1WNJw",
				"type": "message",
				"role": "assistant",
				"content": [
					{
						"type": "text",
						"text": "I've created your daily AI news digest workflow! Here's what it does:\n\nEvery night at 8pm, the workflow automatically fetches AI-related news from that day using NewsAPI, selects the top 5 articles, and uses OpenAI's gpt-4o-mini to create concise two-sentence summaries for each. It then generates an eye-catching image using DALL-E based on the top article's summary and sends everything as a beautifully formatted Telegram message with the image and all article summaries.\n\n**Setup Required:**\n\nBefore activating this workflow, you'll need to configure two credentials:\n\n1. **NewsAPI Key** - Add your NewsAPI API key in the \"Fetch AI News from NewsAPI\" HTTP Request node\n2. **Telegram Chat ID** - Add your Telegram chat ID in the \"Send Telegram Message\" node\n\nBoth placeholders are marked in the workflow for easy identification.\n\nThe workflow is ready to go once you add these credentials. Let me know if you'd like to adjust the schedule, change the number of articles, modify the summary style, or customize the Telegram message format!"
					}
				],
				"stop_reason": "end_turn",
				"stop_sequence": null,
				"usage": {
					"input_tokens": 1258,
					"cache_creation_input_tokens": 0,
					"cache_read_input_tokens": 0,
					"cache_creation": {
						"ephemeral_5m_input_tokens": 0,
						"ephemeral_1h_input_tokens": 0
					},
					"output_tokens": 249,
					"service_tier": "standard"
				}
			}
		}
	},
	"id": "1770038858780-unknown-host-POST-_v1_messages-2f6356bc.json",
	"priority": 0,
	"timeToLive": {
		"unlimited": true
	},
	"times": {
		"unlimited": true
	}
}
