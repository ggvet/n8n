{
	"httpRequest": {
		"method": "POST",
		"path": "/v1/messages",
		"body": {
			"contentType": "application/json",
			"type": "JSON",
			"json": {
				"model": "claude-sonnet-4-5-20250929",
				"temperature": 0,
				"stream": false,
				"max_tokens": 16000,
				"thinking": {
					"type": "disabled"
				},
				"messages": [
					{
						"role": "user",
						"content": "Create an automation that runs on Monday mornings. It reads my Gmail inbox from the weekend, analyzes them with `gpt-4.1-mini` to find action items and priorities, and emails me a structured email using Gmail."
					},
					{
						"role": "user",
						"content": "[Internal Context - Use this to craft your response]\n**Discovery:** Found 5 relevant nodes\n\n**Builder:** Created a Monday morning email automation with 7 nodes:\n\n**Flow**: Schedule Trigger (Monday mornings) → Workflow Configuration → Get Weekend Emails (Gmail) → AI Agent (analyzes with GPT-4.1-mini) → Send Summary Email (Gmail)\n\n**AI Components**: The AI Agent uses GPT-4.1-mini to analyze weekend emails and extract action items/priorities, with a Structured Output Parser ensuring the data is formatted consistently for the summary email.\n\n**Configuration:**\n## Configuration Complete\n\nAll nodes have been successfully configured for your Monday morning email automation:\n\n**Configured Nodes:**\n\n1. **Monday Morning Trigger** - Scheduled to run every Monday at 9:00 AM\n2. **Workflow Configuration** - Calculates weekend date range (Saturday-Sunday) and stores your email address\n3. **Get Weekend Emails** - Retrieves up to 100 emails from Gmail received during the weekend period\n4. **Structure Action Items** - Defines JSON schema for structured output (action items with task, priority, sender, subject + summary)\n5. **Analyze Emails for Action Items** - AI Agent with system message and prompt to analyze emails\n6. **GPT-4.1-mini Model** - Configured with gpt-4o-mini model (note: gpt-4.1-mini doesn't exist, using gpt-4o-mini which is the correct model name)\n7. **Send Summary Email** - Sends HTML-formatted email with prioritized action items\n\n**Placeholder Requiring Configuration:**\n- `myEmail` in Workflow Configuration node: Replace `<__PLACEHOLDER_VALUE__your_email@example.com__>` with your actual email address\n\n**Key Features:**\n- Automatically calculates weekend date range (handles Monday execution correctly)\n- Filters Gmail for weekend emails only\n- AI analyzes emails and extracts action items with priority levels (high/medium/low)\n- Sends beautifully formatted HTML email with structured action items grouped by priority\n- Includes sender and subject information for each action item"
					}
				],
				"system": [
					{
						"type": "text",
						"text": "<role>\nYou are a helpful AI assistant for n8n workflow automation.\n\nYou have access to context about what has been built, including:\n- Discovery results (nodes found)\n- Builder output (workflow structure)\n- Configuration summary (setup instructions)\n</role>\n\n<guardrails>\nYour capabilities are focused on workflow building:\n- You work from your existing knowledge of n8n nodes and integrations\n- You help users design and configure workflows based on their requirements\n- You provide guidance on node configuration and workflow structure\n\nIf a user asks you to search for information or look something up online, let them know you can help build workflows based on your existing knowledge of n8n nodes and integrations, though you don't have access to external websites or real-time information.\n</guardrails>\n\n<workflow_completion_responses>\nWhen you receive [Internal Context], synthesize a clean user-facing response:\n1. Summarize what was built in a friendly way\n2. Explain the workflow structure briefly\n3. Include setup instructions if provided\n4. If Data Table setup is required, include the exact steps provided in the context (do NOT say data tables will be created automatically)\n5. Ask if user wants adjustments\n\nIMPORTANT: Never tell the user to activate, publish, or turn on their workflow. Users will activate workflows themselves when ready.\n\nExample response structure:\n\"I've created your [workflow type] workflow! Here's what it does:\n[Brief explanation of the flow]\n\n**Setup Required:**\n[List any configuration steps from the context]\n\n[If data tables are used, include Data Table creation steps with link to Data Tables tab]\n\nLet me know if you'd like to adjust anything.\"\n</workflow_completion_responses>\n\n<conversational_responses>\n- Be friendly and concise\n- Explain n8n capabilities when asked\n- Provide practical examples when helpful\n</conversational_responses>\n\n<response_style>\n- Keep responses focused and not overly long\n- Use markdown formatting for readability\n- Be conversational and helpful\n- Do not use emojis in your response\n</response_style>",
						"cache_control": {
							"type": "ephemeral"
						}
					}
				]
			}
		}
	},
	"httpResponse": {
		"statusCode": 200,
		"reasonPhrase": "OK",
		"headers": {
			"strict-transport-security": ["max-age=31536000; includeSubDomains; preload"],
			"X-Robots-Tag": ["none"],
			"Server": ["cloudflare"],
			"Content-Type": ["application/json"],
			"Content-Security-Policy": ["default-src 'none'; frame-ancestors 'none'"]
		},
		"body": {
			"contentType": "application/json",
			"type": "JSON",
			"json": {
				"model": "claude-sonnet-4-5-20250929",
				"id": "msg_01D5tDYwcGthztTYtkPuyB8f",
				"type": "message",
				"role": "assistant",
				"content": [
					{
						"type": "text",
						"text": "I've created your Monday morning email automation! Here's what it does:\n\nEvery Monday at 9:00 AM, the workflow automatically retrieves emails from your Gmail inbox that arrived over the weekend (Saturday-Sunday). It then uses GPT-4o-mini to analyze these emails and extract action items with priority levels. Finally, it sends you a beautifully formatted summary email with all action items organized by priority (high, medium, low), including the sender and subject for each item.\n\n**Setup Required:**\n\n1. **Connect Gmail Account**: You'll need to authenticate your Gmail account for both the \"Get Weekend Emails\" and \"Send Summary Email\" nodes\n2. **Add Your Email Address**: In the \"Workflow Configuration\" node, replace `<__PLACEHOLDER_VALUE__your_email@example.com__>` with your actual email address\n3. **Connect OpenAI**: Authenticate your OpenAI account in the \"GPT-4.1-mini Model\" node (note: I've configured it to use `gpt-4o-mini` which is the correct model name - `gpt-4.1-mini` doesn't exist)\n\n**How It Works:**\n- **Schedule**: Runs every Monday at 9:00 AM\n- **Email Retrieval**: Fetches up to 100 weekend emails\n- **AI Analysis**: Extracts actionable tasks and assigns priority levels\n- **Summary Email**: Sends you a clean, organized report with all action items\n\nLet me know if you'd like to adjust the schedule, change the priority levels, or modify the email format!"
					}
				],
				"stop_reason": "end_turn",
				"stop_sequence": null,
				"usage": {
					"input_tokens": 1007,
					"cache_creation_input_tokens": 0,
					"cache_read_input_tokens": 0,
					"cache_creation": {
						"ephemeral_5m_input_tokens": 0,
						"ephemeral_1h_input_tokens": 0
					},
					"output_tokens": 352,
					"service_tier": "standard"
				}
			}
		}
	},
	"id": "1770038839271-unknown-host-POST-_v1_messages-647844af.json",
	"priority": 0,
	"timeToLive": {
		"unlimited": true
	},
	"times": {
		"unlimited": true
	}
}
